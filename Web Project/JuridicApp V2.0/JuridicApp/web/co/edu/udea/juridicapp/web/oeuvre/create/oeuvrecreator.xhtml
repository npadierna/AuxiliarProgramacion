<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
    "http://www.w3.org/TR/html4/loose.dtd" >

<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:ui="http://java.sun.com/jsf/facelets"
      xmlns:p="http://primefaces.org/ui" >

    <h:head>
        <script type="text/javascript"
                src="../../../util/javascript/JsFunctions.js" >
        </script>
        <title>Crear Nueva Obra</title>
        <f:facet name="oeuvreCreator" >
            <meta content="text/html; charset=UTF-8" http-equiv="Content-Type" >
            </meta>
        </f:facet>
    </h:head>

    <h:body>
        <p:layout fullPage="true" >
            <p:layoutUnit
                closable="false" collapsible="false" position="south"
                resizable="false" size="60" >

                <p:commandButton
                    icon="ui-icon-home" id="home"
                    onclick="location.href = '/Juridicapp/faces/co/edu/udea/juridicapp/web/oeuvre/list/oeuvrelist.xhtml';" 
                    value="Volver al Listado de Obras" style="font-size:15px;" >
                </p:commandButton>
            </p:layoutUnit>

            <p:layoutUnit
                closable="false" collapsible="true" effect="drop"
                header="#{updateClientBean.loggedClient.people.firstNames} #{updateClientBean.loggedClient.people.lastNames}"
                position="north" resizable="false" size="130" >

                <h:form id="logoutAndUpdateInfoForm" >
                    <p align="center" >

                    <p:spacer height="5px" width="15px" ></p:spacer>

                    <p:commandButton
                        icon="ui-icon-arrowrefresh-1-s"
                        onclick="location.href = '/Juridicapp/faces/co/edu/udea/juridicapp/web/client/update/updateinfoclient.xhtml';"
                        style="font-size:15px;"
                        value="Actualizar Datos" >
                    </p:commandButton>

                    <p:spacer height="5px" width="15px" ></p:spacer>

                    <p:commandButton
                        actionListener="#{loginClientBean.logOut}"
                        icon="ui-icon-circle-close"
                        onclick="location.href = '/Juridicapp/faces/co/edu/udea/juridicapp/web/index.xhtml';"
                        oncomplete="handleLogoutRequest(xhr, status, args)"
                        style="font-size:15px;"
                        value="Cerrar Sesión" >
                    </p:commandButton>
                    </p>
                </h:form>
            </p:layoutUnit>  

            <p:layoutUnit position="center"  >
                <p:growl
                    id="growlChangePassword" life="3000" showDetail="true" >
                </p:growl>

                <h:form id="mainForm" enctype="multipart/form-data" >
                    <p:panel header="Crear Nueva Obra" >
                        <p:wizard
                            backLabel="Atrás" id="viewWizard"
                            nextLabel="Siguiente"  >

                            <p:tab id="oeuvre" title="Obra" >
                                <center>
                                    <p:accordionPanel
                                        activeIndex="0,1" multiple="true" >

                                        <p:tab closable="false"
                                               title="Datos De La Obra" >
                                            <h:panelGrid
                                                cellpadding="10" columns="3" >
                                                <h:outputText 
                                                    style="font-weight:bold"
                                                    value="Nombre De La Obra:" >
                                                </h:outputText>
                                                <p:inputText
                                                    id="oeuvreNameInputText"
                                                    label="Nombre de la Obra"
                                                    maxlength="55"
                                                    required="true" 
                                                    size="50"
                                                    value="#{creatorOeuvreBean.oeuvre.title}" >
                                                    <f:validateRegex
                                                        pattern="^[ a-zA-Z0-9]+" >
                                                    </f:validateRegex>  
                                                </p:inputText>
                                                <p:watermark
                                                    for="oeuvreNameInputText"
                                                    value="Nombre" >
                                                </p:watermark>

                                                <h:outputText
                                                    style="font-weight:bold"
                                                    value="Descripción:" >
                                                </h:outputText>
                                                <p:inputTextarea
                                                    autoResize="false"
                                                    cols="50"
                                                    counter="counter"
                                                    counterTemplate="{0} Caracteres Restantes."
                                                    id="descriptionInputTextArea"
                                                    maxlength="250" rows="5"
                                                    value="#{creatorOeuvreBean.oeuvre.description}" >
                                                </p:inputTextarea>
                                            </h:panelGrid>
                                            <p:watermark
                                                for="descriptionInputTextArea"
                                                value="Descripción breve de la Obra." >
                                            </p:watermark>

                                            <h:outputText id="counter" >
                                            </h:outputText>
                                        </p:tab>

                                        <p:tab closable="false"
                                               title="Datos De La Dependencia" >
                                            <h:panelGrid
                                                cellpadding="10" columns="2" >
                                                <h:outputLabel
                                                    for="dependenciesNameList"
                                                    style="font-weight:bold"
                                                    value="Nombre De La Dependencia:" >
                                                </h:outputLabel>
                                                <p:selectOneMenu
                                                    id="dependenciesNameList"
                                                    label="Nombres de Dependencias"
                                                    required="true"
                                                    value="#{creatorOeuvreBean.oeuvre.dependency.name}" >
                                                    <f:selectItems
                                                        value="#{dependencyBean.dependenciesNames}" >
                                                    </f:selectItems>
                                                </p:selectOneMenu>
                                            </h:panelGrid>
                                        </p:tab>
                                    </p:accordionPanel>
                                </center>
                            </p:tab>

                            <p:tab id="authors" title="Author(es)">
                                <p:panel id="authorsAdderPanel" >
                                    <center>
                                        <p:panel
                                            header="Añadir Autores"
                                            id="authorsFinderPanel" >
                                            <h:panelGrid
                                                cellpadding="7" columns="3" >
                                                <h:outputLabel
                                                    for="authorDocumentType"
                                                    style="font-weight:bold"
                                                    value="Tipo De Documento:" >
                                                </h:outputLabel>
                                                <p:selectOneMenu
                                                    id="authorDocumentType"
                                                    label="Tipo Documento" required="true"
                                                    value="#{creatorOeuvreBean.documentType}" >
                                                    <f:selectItems
                                                        value="#{registrationClientBean.documentsType}" >
                                                    </f:selectItems>
                                                </p:selectOneMenu>
                                                <p:watermark
                                                    for="authorDocumentType"
                                                    value="Tipo de Documento" >
                                                </p:watermark>

                                                <h:outputLabel
                                                    for="authorIdNumber"
                                                    style="font-weight:bold"
                                                    value="Número De Documento:" >
                                                </h:outputLabel>
                                                <p:inputText 
                                                    id="authorIdNumber"
                                                    label="Número de Documento"
                                                    maxlength="20"
                                                    size="30"
                                                    value="#{creatorOeuvreBean.idNumber}" >
                                                </p:inputText>
                                                <p:watermark
                                                    for="authorIdNumber" value="Obligatorio" >
                                                </p:watermark>
                                            </h:panelGrid>

                                            <p:commandButton
                                                actionListener="#{creatorOeuvreBean.findAuthor}"
                                                icon="ui-icon-search"
                                                id="findAuthorsButton"
                                                update="authorsFinderPanel"
                                                value="Buscar Autor" >
                                            </p:commandButton>

                                            <p:panel id="resultsSearchingPanel" >
                                                <p:spacer
                                                    height="20px" >
                                                </p:spacer>

                                                <p:dataTable
                                                    emptyMessage="No se han encontrado Autores."
                                                    id="authorFoundTable"
                                                    value="#{creatorOeuvreBean.foundAuthors}"
                                                    var="foundAuthor" >

                                                    <p:column>
                                                        <f:facet name="header" >
                                                            <h:outputText
                                                                value="Apellidos" >
                                                            </h:outputText>
                                                        </f:facet>
                                                        <center>
                                                            <h:outputText
                                                                value="#{foundAuthor.people.lastNames}" >
                                                            </h:outputText>
                                                        </center>
                                                    </p:column>

                                                    <p:column>
                                                        <f:facet name="header" >
                                                            <h:outputText
                                                                value="Nombres" >
                                                            </h:outputText>
                                                        </f:facet>
                                                        <center>
                                                            <h:outputText
                                                                value="#{foundAuthor.people.firstNames}" >
                                                            </h:outputText>
                                                        </center>
                                                    </p:column>

                                                    <p:column>
                                                        <f:facet name="header" >
                                                            <h:outputText
                                                                value="Número Celular" >
                                                            </h:outputText>
                                                        </f:facet>
                                                        <center>
                                                            <h:outputText
                                                                value="#{foundAuthor.mobileNumber}" >
                                                            </h:outputText>
                                                        </center>
                                                    </p:column>

                                                    <p:column>
                                                        <f:facet name="header" >
                                                            <h:outputText
                                                                value="Teléfono Fijo" >
                                                            </h:outputText>
                                                        </f:facet>
                                                        <center>
                                                            <h:outputText
                                                                value="#{foundAuthor.phoneNumber}" >
                                                            </h:outputText>
                                                        </center>
                                                    </p:column>

                                                    <p:column>
                                                        <f:facet name="header" >
                                                            <h:outputText
                                                                value="Correo Electrónico" >
                                                            </h:outputText>
                                                        </f:facet>
                                                        <center>
                                                            <h:outputText
                                                                value="#{foundAuthor.people.email}" >
                                                            </h:outputText>
                                                        </center>
                                                    </p:column>

                                                    <p:column>
                                                        <center>
                                                            <p:commandButton
                                                                action="#{creatorOeuvreBean.addAuthor(foundAuthor)}"
                                                                icon="ui-icon-circle-plus"
                                                                id="addAuthorButton"
                                                                style="font-size: 13px;"
                                                                update=":mainForm:authorsAdderPanel"
                                                                value="Añadir" >
                                                            </p:commandButton>
                                                        </center>
                                                    </p:column>
                                                </p:dataTable>
                                            </p:panel>
                                        </p:panel>
                                    </center>

                                    <p:spacer height="25px" ></p:spacer>

                                    <center>
                                        <p:panel header="Autores Añadidos"
                                                 id="addedAuthorsOeuvresPanel" >
                                            <p:dataTable
                                                emptyMessage="No se han añadido Autores."
                                                id="addedAuthorsOeuvresTable"
                                                style="font-size:15px;"
                                                value="#{creatorOeuvreBean.authorsOeuvres}"
                                                var="authorOeuvre" >
                                                <p:column>
                                                    <f:facet name="header" >
                                                        <h:outputText
                                                            value="Tipo De Documento" >
                                                        </h:outputText>
                                                    </f:facet>
                                                    <center>
                                                        <h:outputText
                                                            value="#{authorOeuvre.authorOeuvrePK.documentType}" >
                                                        </h:outputText>
                                                    </center>
                                                </p:column>

                                                <p:column>
                                                    <f:facet name="header" >
                                                        <h:outputText
                                                            value="Número De Documento" >
                                                        </h:outputText>
                                                    </f:facet>
                                                    <center>
                                                        <h:outputText
                                                            value="#{authorOeuvre.authorOeuvrePK.idNumber}" >
                                                        </h:outputText>
                                                    </center>
                                                </p:column>

                                                <p:column>
                                                    <f:facet name="header" >
                                                        <h:outputText
                                                            value="Nombre Completo" >
                                                        </h:outputText>
                                                    </f:facet>
                                                    <center>
                                                        <h:outputText
                                                            value="#{authorOeuvre.author.people.lastNames} #{authorOeuvre.author.people.firstNames}" >
                                                        </h:outputText>
                                                    </center>
                                                </p:column>

                                                <p:column>
                                                    <f:facet name="header" >
                                                        <h:outputText
                                                            value="Número Celular" >
                                                        </h:outputText>
                                                    </f:facet>
                                                    <center>
                                                        <h:outputText
                                                            value="#{authorOeuvre.author.mobileNumber}" >
                                                        </h:outputText>
                                                    </center>
                                                </p:column>

                                                <p:column>
                                                    <f:facet name="header" >
                                                        <h:outputText
                                                            value="Teléfono Fijo" >
                                                        </h:outputText>
                                                    </f:facet>
                                                    <center>
                                                        <h:outputText
                                                            value="#{authorOeuvre.author.phoneNumber}" >
                                                        </h:outputText>
                                                    </center>
                                                </p:column>

                                                <p:column>
                                                    <f:facet name="header" >
                                                        <h:outputText
                                                            value="Correo Electrónico" >
                                                        </h:outputText>
                                                    </f:facet>
                                                    <center>
                                                        <h:outputText
                                                            value="#{authorOeuvre.author.people.email}" >
                                                        </h:outputText>
                                                    </center>
                                                </p:column>

                                                <p:column>
                                                    <center>
                                                        <p:commandButton
                                                            icon="ui-icon-closethick"
                                                            id="deleteAuthorOeuvreButton"
                                                            action="#{creatorOeuvreBean.removeAuthorOeuvre(authorOeuvre)}"
                                                            update="addedAuthorsOeuvresTable"
                                                            value="Eliminar" >
                                                        </p:commandButton>
                                                    </center>
                                                </p:column>
                                            </p:dataTable>
                                        </p:panel>
                                    </center>
                                </p:panel>
                            </p:tab>

                            <p:tab id="authorOeuvre"
                                   title="Añadir Obras A Autor(es)">
                                <center>
                                    <p:panel header="Añadir Obras A Autores"
                                             id="authorsOeuvresAdderPanel" >

                                        <p:dataTable
                                            emptyMessage="No se han añadido Autores."
                                            id="addedAuthorsOeuvresFinalTable"
                                            scrollable="true" scrollWidth="1250"
                                            style="font-size:13px;"
                                            value="#{creatorOeuvreBean.authorsOeuvres}"
                                            var="authorOeuvre" >

                                            <p:column styleClass="myTable" >
                                                <f:facet name="header" >
                                                    <h:outputText value="+" >
                                                    </h:outputText>
                                                </f:facet>
                                                <p:rowToggler></p:rowToggler>
                                            </p:column>

                                            <p:column style="table-layout: auto;" >
                                                <f:facet name="header" >
                                                    <h:outputText
                                                        value="Tipo De Documento" >
                                                    </h:outputText>
                                                </f:facet>
                                                <center>
                                                    <h:outputText
                                                        value="#{authorOeuvre.authorOeuvrePK.documentType}" >
                                                    </h:outputText>
                                                </center>
                                            </p:column>

                                            <p:column>
                                                <f:facet name="header" >
                                                    <h:outputText
                                                        value="Número De Documento" >
                                                    </h:outputText>
                                                </f:facet>
                                                <center>
                                                    <h:outputText
                                                        value="#{authorOeuvre.authorOeuvrePK.idNumber}" >
                                                    </h:outputText>
                                                </center>
                                            </p:column>

                                            <p:column>
                                                <f:facet name="header" >
                                                    <h:outputText
                                                        value="Nombre Completo" >
                                                    </h:outputText>
                                                </f:facet>
                                                <center>
                                                    <h:outputText
                                                        value="#{authorOeuvre.author.people.lastNames} #{authorOeuvre.author.people.firstNames}" >
                                                    </h:outputText>
                                                </center>
                                            </p:column>

                                            <p:column>
                                                <f:facet name="header" >
                                                    <h:outputText 
                                                        value="N° Contrato" >
                                                    </h:outputText>
                                                </f:facet>
                                                <center>
                                                    <p:inputText
                                                        maxlength="30"
                                                        required="true"
                                                        size="20"
                                                        value="#{authorOeuvre.authorOeuvrePK.contract}" >
                                                    </p:inputText>
                                                </center>
                                            </p:column>

                                            <p:column>
                                                <f:facet name="header" >
                                                    <h:outputText value="Fecha De Inicio" >
                                                    </h:outputText>
                                                </f:facet>
                                                <center>
                                                    <p:calendar
                                                        effect="explode"
                                                        size="5"
                                                        value="#{authorOeuvre.beginning}" >
                                                    </p:calendar>
                                                </center>
                                            </p:column>

                                            <p:column>
                                                <f:facet name="header" >
                                                    <h:outputText 
                                                        value="Fecha De Entrega" >
                                                    </h:outputText>
                                                </f:facet>
                                                <center>
                                                    <p:calendar
                                                        effect="explode" 
                                                        size="5"
                                                        value="#{authorOeuvre.delivering}" >
                                                    </p:calendar>
                                                </center>
                                            </p:column>

                                            <p:column>
                                                <f:facet name="header" >
                                                    <h:outputText 
                                                        value="Tipo De Obra" >
                                                    </h:outputText>
                                                </f:facet>
                                                <center>
                                                    <p:selectOneMenu
                                                        id="authorOeuvreType"
                                                        label="Tipo de la Obra"
                                                        required="true"
                                                        value="#{authorOeuvre.authorOeuvrePK.oeuvreTypeName}" >
                                                        <f:selectItems
                                                            value="#{typeBean.typesNames}" >
                                                        </f:selectItems>
                                                    </p:selectOneMenu>
                                                </center>
                                            </p:column>

                                            <p:column>
                                                <f:facet name="header" >
                                                    <h:outputText 
                                                        value="Soporte De La Obra" >
                                                    </h:outputText>
                                                </f:facet>
                                                <center>
                                                    <p:selectOneMenu
                                                        id="authorOeuvreSupport"
                                                        label="Soporte de la Obra"
                                                        required="true"
                                                        value="#{authorOeuvre.supportType.type}" >
                                                        <f:selectItems value="#{supportBean.supportsNames}" >
                                                        </f:selectItems>
                                                    </p:selectOneMenu>
                                                </center>
                                            </p:column>

                                            <p:column>
                                                <f:facet name="header" >
                                                    <h:outputText
                                                        value="Vínculo Con La Universidad" >
                                                    </h:outputText>
                                                </f:facet>
                                                <center>
                                                    <p:selectOneMenu
                                                        id="authorOeuvreTitle"
                                                        label="Vínculo con Universidad"
                                                        required="true"
                                                        value="#{authorOeuvre.title.profile}" >
                                                        <f:selectItems 
                                                            value="#{titleBean.titlesNames}" >
                                                        </f:selectItems>
                                                    </p:selectOneMenu>
                                                </center>
                                            </p:column>

                                            <p:rowExpansion>
                                                <center>
                                                    <p:panel>
                                                        <p:spacer
                                                            height="10px" >
                                                        </p:spacer>
                                                        <h:panelGrid 
                                                            cellpadding="7"
                                                            columns="6"
                                                            style="font-size:15px" >
                                                            <h:outputText
                                                                value="ISBN:" >
                                                            </h:outputText>
                                                            <p:inputText
                                                                id="authorOeuvreISBN"
                                                                maxlength="35"
                                                                required="false" size="35"
                                                                value="#{authorOeuvre.isbn}" >
                                                            </p:inputText>
                                                            <p:watermark
                                                                for="authorOeuvreISBN"
                                                                value="Opcional" >
                                                            </p:watermark>

                                                            <h:outputText
                                                                value="DNDA:" >
                                                            </h:outputText>
                                                            <p:inputText
                                                                id="authorOeuvreDNDA"
                                                                maxlength="30"
                                                                required="false" size="30"
                                                                value="#{authorOeuvre.dnda.number}" >
                                                            </p:inputText>
                                                            <p:watermark 
                                                                for="authorOeuvreDNDA"
                                                                value="Opcional" >
                                                            </p:watermark>
                                                        </h:panelGrid>
                                                        <p:spacer height="10px" >
                                                        </p:spacer>
                                                    </p:panel>
                                                </center>
                                            </p:rowExpansion>
                                        </p:dataTable>
                                    </p:panel>
                                </center>
                            </p:tab>

                            <p:tab id="file" title="Archivos" >
                                <center>
                                    <p:panel header="Adjuntar Archivos"
                                             id="filesAdderPanel" >

                                        <p:dataTable 
                                            emptyMessage="No se han añadido Autores."
                                            id="filesTable"
                                            style="font-size:13px"
                                            value="#{creatorOeuvreBean.authorsOeuvres}"
                                            var="authorOeuvre" >

                                            <p:column>
                                                <f:facet name="header" >
                                                    <h:outputText
                                                        value="Nombre Completo" >
                                                    </h:outputText>
                                                </f:facet>
                                                <h:outputText
                                                    value="#{authorOeuvre.author.people.firstNames} #{authorOeuvre.author.people.lastNames}" >
                                                </h:outputText>
                                            </p:column>

                                            <p:column>
                                                <f:facet name="header" >
                                                    <h:outputText
                                                        value="N° Contrato" >
                                                    </h:outputText>
                                                </f:facet>
                                                <h:outputText
                                                    value="#{authorOeuvre.authorOeuvrePK.contract}" >
                                                </h:outputText>
                                            </p:column>

                                            <p:column>
                                                <f:facet name="header" >
                                                    <h:outputText
                                                        value="Tipo De Obra" >
                                                    </h:outputText>
                                                </f:facet>
                                                <h:outputText
                                                    value="#{authorOeuvre.authorOeuvrePK.oeuvreTypeName}" >
                                                </h:outputText>
                                            </p:column>

                                            <p:column>
                                                <f:facet name="header" >
                                                    <h:outputText
                                                        value="Soporte De La Obra" >
                                                    </h:outputText>
                                                </f:facet>
                                                <h:outputText
                                                    value="#{authorOeuvre.supportType.type}" >
                                                </h:outputText>
                                            </p:column>

                                            <p:column>
                                                <f:facet name="header" >
                                                    <h:outputText
                                                        value="Adjuntar Contrato" >
                                                    </h:outputText>
                                                </f:facet>
                                                <!--                                                <p:fileUpload
                                                                                                    allowTypes="/(\.|\/)(gif|jpe?g|png)$/"
                                                                                                    cancelLabel="Cancelar"
                                                                                                    dragDropSupport="false"
                                                                                                    id="contractFileUpload"
                                                                                                    label="Seleccionar"
                                                                                                    mode="advanced"
                                                                                                    multiple="false"
                                                                                                    required="true"
                                                                                                    sizeLimit="512000"
                                                                                                    uploadLabel="Cargar" >
                                                                                                </p:fileUpload>-->
                                                <p:fileUpload
                                                    allowTypes="/(\.|\/)(pdf|docx?|gif|jpe?g|png)$/"
                                                    id="contractFileUpload"
                                                    mode="simple"
                                                    value="#{authorOeuvre.contract1.contractFile}" >
                                                </p:fileUpload>

                                                <p:commandButton
                                                    action="#{uploaderFileTesterBean.onHandleUploadFileEvent(authorOeuvre)}"
                                                    ajax="false"
                                                    id="contractUploadButton"
                                                    value="Subir" >
                                                </p:commandButton>
                                            </p:column>

                                            <p:column>
                                                <f:facet name="header" >
                                                    <h:outputText
                                                        value="Adjuntar Producto" >
                                                    </h:outputText>
                                                </f:facet>
                                                <p:fileUpload
                                                    allowTypes="/(\.|\/)(iso|rar|zip|pdf|gif|jpe?g|png)$/"
                                                    cancelLabel="Cancelar"
                                                    dragDropSupport="false" 
                                                    fileUploadListener="#{uploaderFileTesterBean.onHandleUploadFileEvent}"
                                                    id="productFileUpload"
                                                    label="Seleccionar"
                                                    mode="advanced"
                                                    multiple="false"
                                                    required="true"
                                                    sizeLimit="512000"
                                                    uploadLabel="Cargar" >
                                                </p:fileUpload>
                                            </p:column>
                                        </p:dataTable>
                                    </p:panel>
                                </center>
                            </p:tab>

                            <p:tab id="coments" title="Observaciones" >
                                <p:panel header="Añadir Comentarios"
                                         id="adderCommentsPanel" >
                                    <center>
                                        <h:panelGrid cellpadding="10" columns="2"
                                                     id="commentTyperPanelGrid" >
                                            <h:outputText value="Observaciones o comentarios:" >
                                            </h:outputText>
                                            <p:inputTextarea
                                                autoResize="false" cols="30"
                                                counter="counterComents"
                                                counterTemplate="{0} Caracteres Restantes."
                                                maxlength="250" rows="5"
                                                value="#{creatorOeuvreBean.commentText}" >
                                            </p:inputTextarea>
                                        </h:panelGrid>
                                        <h:outputText id="counterComents" >
                                        </h:outputText>
                                    </center>
                                    <center>
                                        <p:commandButton
                                            actionListener="#{creatorOeuvreBean.addComment}"
                                            icon="ui-icon-circle-plus"
                                            id="addCommentButton"
                                            update=":mainForm:adderCommentsPanel"
                                            value="Añadir Comentario" >
                                        </p:commandButton>
                                    </center>

                                    <p:panel id="addCommentsPanel" >
                                        <p:spacer height="20px" ></p:spacer>

                                        <p:dataTable
                                            emptyMessage="No se han añadido Comentarios."
                                            id="addCommentsTable"
                                            value="#{creatorOeuvreBean.comments}"
                                            var="comment" >

                                            <p:column>
                                                <f:facet name="header" >
                                                    <h:outputText value="Texto De Comentario" >
                                                    </h:outputText>
                                                </f:facet>
                                                <h:outputText
                                                    value="#{comment.text}" >
                                                </h:outputText>
                                            </p:column>

                                            <p:column>
                                                <f:facet name="header" >
                                                    <h:outputText value="Fecha / Hora" >
                                                    </h:outputText>
                                                </f:facet>
                                                <h:outputText
                                                    value="#{comment.dateTime}" >
                                                </h:outputText>
                                            </p:column>

                                            <p:column>
                                                <center>
                                                    <p:commandButton
                                                        action="#{creatorOeuvreBean.removeComment(comment)}"
                                                        icon="ui-icon-closethick"
                                                        id="removeCommentButton"
                                                        update="addCommentsTable"
                                                        value="Eliminar" >
                                                    </p:commandButton>
                                                </center>
                                            </p:column>
                                        </p:dataTable>
                                    </p:panel>
                                </p:panel>
                            </p:tab>

                            <p:tab id="confirmation" title="Confirmación" >
                                <center>
                                    <p:panel>
                                        <p:spacer height="10px" ></p:spacer>

                                        <p:dataTable 
                                            draggableColumns="true"
                                            id="mainTable"
                                            style="width:98%; font-size:13px;"
                                            value="#{creatorOeuvreBean.authorsOeuvres}"
                                            var="authorOeuvre" > 

                                            <f:facet name="header" >
                                                Obras Creadas
                                            </f:facet>

                                            <p:column 
                                                style="font-size:15px;" >
                                                <f:facet id="issue" name="header" >
                                                    <h:outputText 
                                                        value="Nombre De La Obra" >
                                                    </h:outputText>  
                                                </f:facet>
                                                <h:outputText
                                                    style="font-size:13px;"
                                                    value="#{creatorOeuvreBean.oeuvre.title}" >
                                                </h:outputText>
                                            </p:column>

                                            <p:column 
                                                style="font-size:15px;" >
                                                <f:facet id="year" name="header" >
                                                    <h:outputText
                                                        value="Fecha De Entrega" >
                                                    </h:outputText>  
                                                </f:facet>
                                                <center>
                                                    <h:outputText
                                                        style="font-size:13px;"
                                                        value="#{authorOeuvre.delivering}" >
                                                    </h:outputText>
                                                </center>
                                            </p:column>

                                            <p:column 
                                                style="font-size:15px;" >
                                                <f:facet id="type" name="header" >
                                                    <h:outputText value="Tipo" >
                                                    </h:outputText>
                                                </f:facet>
                                                <h:outputText
                                                    style="font-size:13px;"
                                                    value="#{authorOeuvre.authorOeuvrePK.oeuvreTypeName}" >
                                                </h:outputText>
                                            </p:column>

                                            <p:column 
                                                style="font-size:15px;" >
                                                <f:facet id="author" name="header" >
                                                    <h:outputText
                                                        value="Autor" >
                                                    </h:outputText>  
                                                </f:facet>
                                                <h:outputText
                                                    style="font-size:13px;"
                                                    value="#{authorOeuvre.author.people.lastNames} #{authorOeuvre.author.people.firstNames}" >
                                                </h:outputText>
                                            </p:column>

                                            <p:column 
                                                style="font-size:15px;" >
                                                <f:facet id="contract" name="header" > 
                                                    <h:outputText 
                                                        value="N° Contrato" >
                                                    </h:outputText> 
                                                </f:facet>
                                                <center>
                                                    <h:outputText
                                                        style="font-size:13px;"
                                                        value="#{authorOeuvre.authorOeuvrePK.contract}" >
                                                    </h:outputText>
                                                </center>
                                            </p:column>

                                            <p:column style="font-size:15px;" >
                                                <f:facet id="isbn" name="header" > 
                                                    <h:outputText 
                                                        value="ISBN" >
                                                    </h:outputText>
                                                </f:facet>
                                                <center>
                                                    <h:outputText
                                                        style="font-size:13px;"
                                                        value="#{authorOeuvre.isbn}" >
                                                    </h:outputText>
                                                </center>
                                            </p:column>

                                            <p:column 
                                                style="font-size:15px;" >
                                                <f:facet id="dnda" name="header" >
                                                    <h:outputText 
                                                        value="DNDA" >
                                                    </h:outputText>  
                                                </f:facet>
                                                <center>
                                                    <h:outputText
                                                        style="font-size:13px;"
                                                        value="#{authorOeuvre.dnda.number}" >
                                                    </h:outputText>
                                                </center>
                                            </p:column>

                                            <p:column 
                                                style="font-size:15px;" >
                                                <f:facet id="support" name="header" >
                                                    <h:outputText
                                                        value="Soporte" >
                                                    </h:outputText>  
                                                </f:facet>
                                                <center>
                                                    <h:outputText
                                                        style="font-size:13px;"
                                                        value="#{authorOeuvre.supportType.type}" >
                                                    </h:outputText>
                                                </center>
                                            </p:column>

                                            <p:column 
                                                style="font-size:15px;" >
                                                <f:facet id="support" name="header" >
                                                    <h:outputText
                                                        value="Archivo De Contrato" >
                                                    </h:outputText>  
                                                </f:facet>
                                                <center>
                                                    <h:outputText
                                                        style="font-size:13px;"
                                                        value="FALTA" >
                                                    </h:outputText>
                                                </center>
                                            </p:column>

                                            <p:column 
                                                style="font-size:15px;" >
                                                <f:facet id="support" name="header" >
                                                    <h:outputText
                                                        value="Archivo De Producto" >
                                                    </h:outputText>  
                                                </f:facet>
                                                <center>
                                                    <h:outputText
                                                        style="font-size:13px;"
                                                        value="FALTA" >
                                                    </h:outputText>
                                                </center>
                                            </p:column>
                                        </p:dataTable>

                                        <p:spacer height="10px" ></p:spacer>

                                        <p:commandButton
                                            actionListener="#{creatorOeuvreBean.saveAuthorsOeuvres}"
                                            id="save" icon="ui-icon-disk"
                                            onclick="location.href = '/Juridicapp/faces/co/edu/udea/juridicapp/web/oeuvre/list/oeuvrelist.xhtml';"
                                            value="Guardar" >
                                        </p:commandButton>
                                    </p:panel>
                                </center>
                            </p:tab>                            
                        </p:wizard>
                    </p:panel>
                </h:form>
            </p:layoutUnit>
        </p:layout>
    </h:body>
</html>