<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd" >

<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://java.sun.com/jsf/html" 
      xmlns:p="http://primefaces.org/ui" 
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:ui="http://java.sun.com/jsf/facelets">

    <h:head>
        <f:facet name="selectedWork" >
            <meta content='text/html; charset=UTF-8'
                  http-equiv="Content-Type" >
            </meta>
            <title>Selección De Obra</title>
        </f:facet>
    </h:head>

    <h:body>
        <p:layout fullPage="true" >
            <p:layoutUnit closable="false" collapsible="false" position="south"
                          resizable="false" size="60" >
                <p:commandButton id="home"
                                 onclick="location.href = '/Juridicapp/faces/co/edu/udea/juridicapp/web/work/list/worklist.xhtml';" 
                                 value="Volver al Listado de Obras" >
                </p:commandButton>
            </p:layoutUnit>

            <p:layoutUnit closable="false" collapsible="true" effect="drop" 
                          header="Usuario" position="north" resizable="false" 
                          size="130" >
                 <center>
                    <p:panel id="memberManagementPanel" >
                        <center>
                <ui:include src="../../user/update/logoutinfouser.xhtml" />
                        </center>
                    </p:panel>
                 </center>
            </p:layoutUnit>  

            <p:layoutUnit position="center" >
                <h:form id="mainForm" >
                    <p:panel header="Descripción De La Obra" >
                        <p:tabView id="mainTabView" >
                            <p:tab id="work" title="Obra" >
                                <center>
                                    <p:fieldset legend="Datos De La Obra" >
                                        <h:panelGrid cellpadding="10" columns="2" >
                                            <h:outputText value="Nombre de la Obra:" >
                                            </h:outputText>
                                            <h:outputText
                                                value="#{workSelectorBean.selectedAuthorWork.workType.work.title}" >
                                            </h:outputText>

                                            <h:outputText
                                                value="Fecha de Entrega:" >
                                            </h:outputText>
                                            <h:outputText
                                                value="#{workSelectorBean.selectedAuthorWork.delivering}" >
                                            </h:outputText>

                                            <h:outputText value="Descripción de la Obra:" >
                                            </h:outputText>
                                            <p:inputTextarea disabled="true"
                                                             value="#{workSelectorBean.selectedAuthorWork.workType.work.description}" >
                                            </p:inputTextarea> 
                                        </h:panelGrid>
                                    </p:fieldset>
                                    <p:spacer width="10px" ></p:spacer>
                                    <p:fieldset legend="Datos De La Dependencia" >
                                        <h:panelGrid columns="2" cellpadding="10" >
                                            <h:outputText
                                                value="Registro DNDA:" >
                                            </h:outputText>
                                            <h:outputText
                                                value="#{workSelectorBean.selectedAuthorWork.workType.work.dependency.dnda.number}" >
                                            </h:outputText>

                                            <h:outputText
                                                value="Dependencia Acádemica:" >
                                            </h:outputText>
                                            <h:outputText
                                                value="#{workSelectorBean.selectedAuthorWork.workType.work.dependency.name}" >
                                            </h:outputText>
                                        </h:panelGrid>
                                    </p:fieldset>
                                </center>
                            </p:tab>

                            <p:tab id="author" title="Autor(es)" >
                                <center>
                                    <p:dataTable id="authorsDataTable"
                                                 paginator="true"
                                                 paginatorTemplate="{CurrentPageReport}  {FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink} {RowsPerPageDropdown}"
                                                 rows="5"
                                                 rowsPerPageTemplate="5,7,10"
                                                 style="width:98%; font-size:13px;"
                                                 value="#{workSelectorBean.authorsWorks}"
                                                 var="authorWork" >

                                        <f:facet name="header" >
                                            Listado De Autores
                                        </f:facet>

                                        <p:column style="font-size:15px;" >
                                            <f:facet id="documentType" name="header">  
                                                <h:outputText value="Tipo De Documento" >
                                                </h:outputText>  
                                            </f:facet>
                                            <h:outputText style="font-size:13px;"
                                                          value="#{authorWork.authorWorkPK.documentType}" >
                                            </h:outputText>
                                        </p:column>

                                        <p:column style="font-size:15px;" >
                                            <f:facet id="documentNumber" name="header">  
                                                <h:outputText value="Número De Documento" >
                                                </h:outputText>  
                                            </f:facet>
                                            <h:outputText style="font-size:13px;"
                                                          value="#{authorWork.authorWorkPK.idNumber}" >
                                            </h:outputText>
                                        </p:column>

                                        <p:column style="font-size:15px;" >
                                            <f:facet id="fullName" name="header">  
                                                <h:outputText value="Nombre Completo" >
                                                </h:outputText>  
                                            </f:facet>
                                            <h:outputText style="font-size:13px;"
                                                          value="#{authorWork.author.person.lastNames} #{authorWork.author.person.firstNames}" >
                                            </h:outputText>
                                        </p:column>

                                        <p:column style="font-size:15px;" >
                                            <f:facet id="fullName" name="header">  
                                                <h:outputText value="Vínculo Con La Universidad" >
                                                </h:outputText>  
                                            </f:facet>
                                            <h:outputText style="font-size:13px;"
                                                          value="#{authorWork.role.profile}" >
                                            </h:outputText>
                                        </p:column>

                                        <p:column style="font-size:15px;" >
                                            <f:facet id="fullName" name="header">  
                                                <h:outputText value="N° Contrato" >
                                                </h:outputText>  
                                            </f:facet>
                                            <h:outputText style="font-size:13px;"
                                                          value="#{authorWork.contract1.id}" >
                                            </h:outputText>
                                        </p:column>

                                        <p:column style="font-size:15px;" >
                                            <f:facet id="fullName" name="header">  
                                                <h:outputText value="Tipo" >
                                                </h:outputText>  
                                            </f:facet>
                                            <h:outputText style="font-size:13px;"
                                                          value="#{authorWork.workType.workTypePK.typeName}" >
                                            </h:outputText>
                                        </p:column>

                                        <p:column style="font-size:15px;" >
                                            <f:facet id="fullName" name="header">  
                                                <h:outputText value="ISBN" >
                                                </h:outputText>  
                                            </f:facet>
                                            <h:outputText style="font-size:13px;"
                                                          value="#{authorWork.isbn}" >
                                            </h:outputText>
                                        </p:column>

                                        <!--                                        <p:column style="font-size:15px;" >
                                                                                    <f:facet id="fullName" name="header">  
                                                                                        <h:outputText value="Forma De Adquisición" >
                                                                                        </h:outputText>  
                                                                                    </f:facet>
                                                                                    <h:outputText style="font-size:13px;"
                                                                                                  value="" >
                                                                                    </h:outputText>
                                                                                </p:column>-->

                                        <p:column style="font-size:15px;" >
                                            <f:facet id="fullName" name="header">  
                                                <h:outputText value="Soporte" >
                                                </h:outputText>  
                                            </f:facet>
                                            <h:outputText style="font-size:13px;"
                                                          value="#{authorWork.supportType.type}" >
                                            </h:outputText>
                                        </p:column>
                                    </p:dataTable>
                                </center>
                            </p:tab>

                            <!--p:tab id="file" title="Archivos" >
                                <center>
                                    <h:panelGrid cellpadding="10" columns="2"  >
                                        <h:outputText value="Ubicación del/los Archivo(s):" >
                                        </h:outputText>
                                        <h:outputText value="RUTA" >
                                        </h:outputText>                   
                                    </h:panelGrid>
                                </center>
                            </p:tab-->

                            <p:tab id="coments" title="Observaciones" >
                                <center>
                                    <p:dataTable resizableColumns="true"
                                                 value="#{workSelectorBean.workComments}"
                                                 var="comment" >
                                        <p:column headerText="Comentario" >
                                            <h:outputText
                                                value="#{comment.text}" >
                                            </h:outputText>
                                        </p:column>

                                        <p:column headerText="Fecha" width="200" >
                                            <h:outputText
                                                value="#{comment.dateTime}" >
                                            </h:outputText>
                                        </p:column>
                                    </p:dataTable>
                                </center>
                            </p:tab>
                        </p:tabView>
                    </p:panel>
                </h:form>
            </p:layoutUnit>
        </p:layout>
    </h:body>
</html>
