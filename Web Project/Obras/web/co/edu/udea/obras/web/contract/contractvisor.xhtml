<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
    "http://www.w3.org/TR/html4/loose.dtd" >

<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:ui="http://java.sun.com/jsf/facelets"
      xmlns:p="http://primefaces.org/ui" >

    <h:head lang="es" >   
        <meta content="text/html" http-equiv="Content-Type" ></meta>
        <meta charset="UTF-8" ></meta>
        <title>Contrato N° #{contractBean.contract.id}</title>

        <f:facet name="contractVisor" ></f:facet>
    </h:head>

    <h:body>
        <h:form id="mainContractForm" >
            <p:panel>
                <center>
                    <h:panelGrid
                        cellpadding="4" columns="2" id="displayContract" >
                        <h:outputText
                            value="Nombre de la Obra:" >
                        </h:outputText>
                        <h:outputText
                            value="#{contractBean.authorOeuvre.oeuvreType.oeuvre.title}" >
                        </h:outputText>

                        <h:outputText
                            value="Número Del Contrato:" >
                        </h:outputText>
                        <h:outputText
                            value="#{contractBean.contract.id}" >
                        </h:outputText>

                        <h:outputText
                            value="Nombre Del Soporte:" >
                        </h:outputText>
                        <h:outputText
                            value="#{contractBean.contract.route}" >
                        </h:outputText>
                    </h:panelGrid>

                    <p:spacer height="20px" ></p:spacer>

                    <p:media
                        player="pdf" value="#{contractBean.contractFile.name}"
                        width="100%" height="580px" >
                        Su navegador no ha podido mostrar el archivo de Soporte para el Contrato, haga clic
                        <p:commandButton
                            actionListener="#{contractBean.onViewContractForAuthorOeuvre(contractBean.authorOeuvre)}"
                            ajax="false" icon="ui-icon-arrowthickstop-1-s"
                            id="downloadFileButton" value="Aquí" >
                            <p:fileDownload
                                value="#{contractBean.contractFile}" >
                            </p:fileDownload>
                        </p:commandButton>
                        para descargar y visualizar el archivo.
                    </p:media>
                </center>
            </p:panel>
        </h:form>
    </h:body>
</html>