<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" 
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd" >

<ui:composition
    xmlns="http://www.w3.org/1999/xhtml"
    xmlns:f="http://java.sun.com/jsf/core"
    xmlns:h="http://java.sun.com/jsf/html"
    xmlns:ui="http://java.sun.com/jsf/facelets"
    xmlns:p="http://primefaces.org/ui"
    xmlns:c="http://java.sun.com/jsp/jstl/core" >

    <center>
        <p:panel header="Asociar Obras A Autores" id="authorsOeuvresAdderPanel" >

            <p:dataTable
                emptyMessage="No se han añadido Autores."
                id="addedAuthorsOeuvresFinalTable" style="font-size: 13px;"
                value="#{authorOeuvreCreatorBean.authorsOeuvres}"
                var="authorOeuvre" >

                <p:column styleClass="myTable" >
                    <f:facet name="header" >
                        <h:outputText value="+" >
                        </h:outputText>
                    </f:facet>
                    <p:rowToggler></p:rowToggler>
                </p:column>

                <p:column>
                    <f:facet name="header" >
                        <h:outputText
                            value="Número de Documento" >
                        </h:outputText>
                    </f:facet>
                    <center>
                        <h:outputText
                            value="#{authorOeuvre.authorOeuvrePK.idNumber}" >
                        </h:outputText>
                    </center>
                </p:column>

                <p:column>
                    <f:facet name="header" >
                        <h:outputText value="Nombre Completo" ></h:outputText>
                    </f:facet>
                    <center>
                        <h:outputText
                            value="#{authorOeuvre.author.people.lastNames} #{authorOeuvre.author.people.firstNames}" >
                        </h:outputText>
                    </center>
                </p:column>

                <p:column>
                    <f:facet name="header" >
                        <h:outputText value="N° de Contrato" ></h:outputText>
                    </f:facet>
                    <center>
                        <p:selectOneMenu
                            id="authorOeuvreContract" label="Número de Contrato"
                            required="true"
                            value="#{authorOeuvre.authorOeuvrePK.contract}" >
                            <f:selectItems
                                value="#{authorOeuvreCreatorBean.contractsNumbersList}" >
                            </f:selectItems>
                        </p:selectOneMenu>
                    </center>
                </p:column>

                <p:column>
                    <f:facet name="header" >
                        <h:outputText value="Tipo de Obra" ></h:outputText>
                    </f:facet>
                    <center>
                        <p:selectOneMenu
                            id="authorOeuvreType" label="Tipo de Obra"
                            required="true"
                            value="#{authorOeuvre.authorOeuvrePK.oeuvreTypeName}" >
                            <f:selectItems
                                value="#{typeBean.typesNames}" >
                            </f:selectItems>
                        </p:selectOneMenu>
                    </center>
                </p:column>

                <p:column>
                    <f:facet name="header" >
                        <h:outputText 
                            value="Forma de Adquisición" >
                        </h:outputText>
                    </f:facet>
                    <center>
                        <p:selectOneMenu
                            id="authorOeuvreAcquisition"
                            label="Forma de Adquisición" required="true"
                            value="#{authorOeuvre.authorOeuvrePK.acquisition}" >
                            <f:selectItems
                                value="#{acquisitionBean.acquisitionsNames}" >
                            </f:selectItems>
                        </p:selectOneMenu>
                    </center>
                </p:column>

                <p:column>
                    <f:facet name="header" >
                        <h:outputText value="Soporte de la Obra" ></h:outputText>
                    </f:facet>
                    <center>
                        <p:selectOneMenu
                            id="authorOeuvreSupport" label="Soporte de la Obra"
                            required="true"
                            value="#{authorOeuvre.supportType.type}" >
                            <f:selectItems
                                value="#{supportBean.supportsNames}" >
                            </f:selectItems>
                        </p:selectOneMenu>
                    </center>
                </p:column>

                <p:column>
                    <f:facet name="header" >
                        <h:outputText
                            value="Vínculo con la Universidad" >
                        </h:outputText>
                    </f:facet>
                    <center>
                        <p:selectOneMenu
                            id="authorOeuvreTitle"
                            label="Vínculo la con Universidad" required="true"
                            value="#{authorOeuvre.title.profile}" >
                            <f:selectItems 
                                value="#{titleBean.titlesNames}" >
                            </f:selectItems>
                        </p:selectOneMenu>
                    </center>
                </p:column>

                <p:rowExpansion>
                    <center>
                        <p:panel>
                            <p:spacer height="10px" ></p:spacer>

                            <h:panelGrid 
                                cellpadding="7" columns="6"
                                style="font-size: 15px" >
                                <h:outputText
                                    value="I.S.B.N.:" ></h:outputText>
                                <p:inputText
                                    id="authorOeuvreISBN" maxlength="35"
                                    required="false" size="35"
                                    value="#{authorOeuvre.isbn}" >
                                </p:inputText>
                                <p:watermark
                                    for="authorOeuvreISBN" value="Opcional" >
                                </p:watermark>

                                <h:outputText value="D.N.D.A.:" ></h:outputText>
                                <p:inputText
                                    id="authorOeuvreDNDA" maxlength="30"
                                    required="false" size="30"
                                    value="#{authorOeuvre.dndaNumber}" >
                                </p:inputText>
                                <p:watermark
                                    for="authorOeuvreDNDA" value="Opcional" >
                                </p:watermark>
                            </h:panelGrid>
                            <p:spacer height="10px" ></p:spacer>
                        </p:panel>
                    </center>
                </p:rowExpansion>
            </p:dataTable>
        </p:panel>
    </center>
</ui:composition>