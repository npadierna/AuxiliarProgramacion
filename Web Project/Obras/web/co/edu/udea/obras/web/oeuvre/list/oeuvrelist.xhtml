<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd" >

<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:p="http://primefaces.org/ui"
      xmlns:ui="http://java.sun.com/jsf/facelets"
      xmlns:c="http://java.sun.com/jsp/jstl/core" >

    <h:head lang="es" >
        <meta content="text/html" http-equiv="Content-Type" ></meta>
        <meta charset="UTF-8" ></meta>
        <script type="text/javascript"
                src="../../../util/javascript/JsFunctions.js" >
        </script>
        <title>Obr@s | Listado de Obras</title>

        <f:facet name="oeuvreList" ></f:facet>
    </h:head>

    <h:body>
        <p:layout fullPage="true" >
            <p:layoutUnit
                closable="false" collapsible="true" effect="drop"
                header="#{updateClientBean.loggedClient.people.firstNames} #{updateClientBean.loggedClient.people.lastNames}" 
                position="north" resizable="false" size="120" >

                <center>
                    <p:panel id="memberManagementPanel" >
                        <center>
                            <c:if
                                test="${loginClientBean.loggedClient.title.title == 'Administrador'}" >
                                <p:commandButton
                                    icon="ui-icon-wrench"
                                    onclick="location.href = '/obras/faces/co/edu/udea/obras/web/admin/creator/entitiescreator.xhtml';"
                                    style="font-size: 15px;"
                                    value="AdministraciÃ³n" >
                                </p:commandButton>

                                <p:spacer
                                    height="5px" width="15px" >
                                </p:spacer>

                                <p:commandButton
                                    icon="ui-icon-plusthick"
                                    onclick="location.href = '/obras/faces/co/edu/udea/obras/web/oeuvre/create/oeuvrecreator.xhtml';"
                                    style="font-size: 15px;"
                                    value="Crear Nueva Obra" >
                                </p:commandButton>

                                <p:spacer
                                    height="5px" width="15px" >
                                </p:spacer>
                            </c:if>

                            <c:if
                                test="${loginClientBean.loggedClient.title.title == 'Gestor de Contratos'}" >

                                <p:commandButton
                                    action="#{contractBean.onViewContractForAuthorOeuvre(authorOeuvreListBean.selectedAuthorOeuvre)}"
                                    icon="ui-icon-person" id="createAuthorButton"
                                    onclick="window.open('/obras/faces/co/edu/udea/obras/web/admin/creator/authorscreator.xhtml', 'Author');"
                                    style="font-size: 15px;"
                                    value="Crear Nuevo Autor" >
                                </p:commandButton>

                                <p:spacer
                                    height="5px" width="15px" >
                                </p:spacer>

                                <p:commandButton
                                    icon="ui-icon-plusthick"
                                    onclick="location.href = '/obras/faces/co/edu/udea/obras/web/oeuvre/create/oeuvrecreator.xhtml';"
                                    style="font-size: 15px;"
                                    value="Crear Nueva Obra" >
                                </p:commandButton>

                                <p:spacer
                                    height="5px" width="15px" >
                                </p:spacer>
                            </c:if>

                            <ui:include
                                src="../../client/update/logoutinfoclient.xhtml" >
                            </ui:include>
                        </center>
                    </p:panel>
                </center>
            </p:layoutUnit>

            <p:layoutUnit position="center" >
                <center>
                    <p:panel id="mainPanel" >
                        <center>
                            <ui:include
                                src="uioeuvrelist.xhtml" >
                            </ui:include>
                        </center>
                    </p:panel>
                </center>
            </p:layoutUnit>
        </p:layout>
    </h:body>
</html>